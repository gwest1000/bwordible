<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bWORDibLE</title>
    <meta
      name="description"
      content="bWORDibLE is a Bible-themed daily word puzzle with 4 to 6 letter answers."
    />
    <link rel="stylesheet" href="./styles.css" />
    <script type="module" src="./app.js"></script>
  </head>
  <body>
    <div class="background-glow background-glow-left" aria-hidden="true"></div>
    <div class="background-glow background-glow-right" aria-hidden="true"></div>

    <div class="app-shell">
      <main class="layout">
        <section class="brand-card reveal reveal-1">
          <p class="eyebrow">Daily Bible-themed word puzzle</p>
          <h1>bWORDibLE</h1>
          <p id="todaySummary" class="today-summary" data-testid="today-summary">
            <span class="today-line">Today: Loading...</span>
            <span class="today-meta">Loading...</span>
          </p>

          <div class="hero-actions">
            <button id="helpButton" class="ghost-button" type="button">How to play</button>
            <button id="statsButton" class="ghost-button" type="button">Stats</button>
            <button id="shareButton" class="primary-button" type="button">Share</button>
          </div>
        </section>

        <section class="game-panel reveal reveal-4" aria-label="Game area">
          <section class="board-card" aria-label="Game board">
            <div id="board" class="board" data-testid="board" aria-live="polite"></div>
          </section>

          <section class="keyboard-card" aria-label="On-screen keyboard">
            <div id="keyboard" class="keyboard"></div>
          </section>
        </section>

        <section class="info-card stats-card stat-grid reveal reveal-2">
          <div>
            <p class="label">Current streak</p>
            <p id="currentStreak" class="big-stat" data-testid="current-streak">0</p>
          </div>
          <div>
            <p class="label">Win rate</p>
            <p id="winRate" class="big-stat">0%</p>
          </div>
          <div>
            <p class="label">Played</p>
            <p id="playedCount" class="big-stat">0</p>
          </div>
          <div>
            <p class="label">Best streak</p>
            <p id="bestStreak" class="big-stat">0</p>
          </div>
        </section>

        <section class="info-card calendar-card reveal reveal-3">
          <div class="card-header">
            <div>
              <p class="label">Streak calendar</p>
            </div>
            <p id="calendarRangeLabel" class="mini-copy">Last 35 days</p>
          </div>
          <div id="streakCalendar" class="activity-calendar" data-testid="streak-calendar"></div>
          <div class="legend">
            <span class="legend-item"><span class="legend-swatch won"></span>Won</span>
            <span class="legend-item"><span class="legend-swatch lost"></span>Lost</span>
            <span class="legend-item"><span class="legend-swatch missed"></span>Missed</span>
            <span class="legend-item"><span class="legend-swatch today"></span>Today</span>
          </div>
        </section>
      </main>
    </div>

    <dialog id="helpDialog" class="modal">
      <form method="dialog" class="modal-card">
        <div class="modal-header">
          <div>
            <p class="label">Guide</p>
            <h2>How bWORDibLE works</h2>
          </div>
          <button class="ghost-button" type="submit">Close</button>
        </div>

        <div class="modal-body">
          <p>
            Each puzzle uses a 6-column board. If the answer is shorter, the right
            tiles stay blocked and black.
          </p>
          <ul class="rules">
            <li>4-letter answer: 6 guesses</li>
            <li>5-letter answer: 7 guesses</li>
            <li>6-letter answer: 8 guesses</li>
            <li>Green means correct letter, correct spot.</li>
            <li>Yellow means correct letter, wrong spot.</li>
            <li>Gray means the letter is not in the answer.</li>
            <li>Plural words are allowed.</li>
            <li>
              Possible answers draw from Bible names, places, topics/themes, and
              frequently used words in the Bible.
            </li>
          </ul>
          <p>
            The yearly answer cycle begins on March 1, 2026, reshuffles every
            March 1, and changes daily at midnight America/New_York.
          </p>
        </div>
      </form>
    </dialog>

    <dialog id="statsDialog" class="modal">
      <form method="dialog" class="modal-card">
        <div class="modal-header">
          <div>
            <p class="label">Record</p>
            <h2>Your stats</h2>
          </div>
          <button class="ghost-button" type="submit">Close</button>
        </div>

        <div class="modal-body">
          <div class="stats-overview">
            <div>
              <p class="label">Played</p>
              <p id="statsPlayed" class="big-stat">0</p>
            </div>
            <div>
              <p class="label">Wins</p>
              <p id="statsWins" class="big-stat">0</p>
            </div>
            <div>
              <p class="label">Best streak</p>
              <p id="statsMaxStreak" class="big-stat">0</p>
            </div>
            <div>
              <p class="label">Average solve</p>
              <p id="statsAverage" class="big-stat">-</p>
            </div>
          </div>

          <div>
            <p class="label">Guess distribution</p>
            <div id="distribution" class="distribution"></div>
          </div>

          <div>
            <div class="card-header">
              <div>
                <p class="label">Calendar</p>
                <h2>Streak map</h2>
              </div>
              <p id="statsCalendarRangeLabel" class="mini-copy">Last 35 days</p>
            </div>
            <div id="statsCalendar" class="activity-calendar stats-calendar"></div>
          </div>
        </div>
      </form>
    </dialog>

    <div id="toast" class="toast" hidden></div>
  </body>
</html>
